/* General Styles & Typography */
:root {
    --primary-color: #007bff;
    --secondary-color: #6c757d;
    --text-color: #333;
    --dark-bg: #0d1a26;
    --light-bg: #f8f9fa;
    --light-text: #fff;
    --accent-color: #28a745; /* For positive changes */
     --gutter: clamp(12px, 2vw, 24px);
}

body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    padding: 0;
    color: var(--text-color);
    line-height: 1.6;
    background-color: var(--light-bg);
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.section {
    padding: 80px 0;
    background-color: var(--light-bg);
}

.section:nth-child(even) {
    background-color: #f4f4f4;
}

.section-title, .section-title-left {
    font-size: 2.5em;
    font-weight: 700;
    margin-bottom: 50px;
    text-align: center;
    color: var(--dark-bg);
}
.section-title-left {
    text-align: left;
    margin-bottom: 20px;
}

/* 1. hero section */



/* ---------- HERO (no horizontal overflow, fully fluid) ---------- */
:root{
  --primary-color:#0ea5e9; --light-text:#fff; --dark-bg:#0b1220;
  --gutter: clamp(14px, 4vw, 28px);
}

/* Global safety net (optional but helpful) */
html, body { max-width: 100%; overflow-x: hidden; }

/* Container hero */
.hero{
   position: relative;
  inline-size: 100%;
  min-block-size: 100vh;
  display: grid;
  place-items: center;
  text-align: start;
  color: var(--light-text);
  padding-block: clamp(24px, 8vh, 96px);
  padding-inline: var(--gutter);
  background: url("../images/eam/eam.png") no-repeat center center/cover;
  background-color: var(--dark-bg); /* fallback if image fails to load */
  overflow: hidden;
  isolation: isolate;
}
@supports (min-height: 100svh){
  .hero{ min-block-size: 100svh; }
}

/* Background video fills without pushing layout width */
.hero-video{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  min-width: 0;              /* <- prevents “wider than parent” calc bugs */
  min-height: 0;
  object-fit: cover;
  object-position: center;
  z-index: 0;
  pointer-events: none;
  background: var(--dark-bg);
}

/* Overlay for contrast */
.hero-overlay{
  position: absolute; inset: 0; z-index: 1;
  background: linear-gradient(0deg, rgba(0,0,0,.55), rgba(0,0,0,.55));
}

/* Content */
.hero-content{
  position: relative; z-index: 2;
  margin-inline: auto;
  inline-size: min(100%, 1000px);
  display: grid; gap: clamp(10px, 2.2vw, 20px);
  padding-inline: 0;         /* rely on .hero padding to avoid double-gutter */
}

/* Fluid type */
.hero-content h1{
  margin: 0;
  font-weight: 800; letter-spacing: -0.02em;
  font-size: clamp(24px, 6.5vw, 44px);
  line-height: 1.15;
  text-wrap: balance;
}
.hero-content p{
  margin: 0 0 clamp(12px, 3.5vw, 28px);
  font-size: clamp(14px, 3.8vw, 18px);
  line-height: 1.6; font-weight: 300; opacity: .95;
}
/* === CTA buttons: unified outline style + clean stacking === */
.cta-buttons1{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap: clamp(8px, 2.2vw, 16px);
}

/* Base button (same for all three) */
.cta-buttons1 .btn,
.cta-buttons1 a{
  appearance:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding: clamp(10px, 1.6vw, 14px) clamp(18px, 2.6vw, 24px);
  border-radius: 999px;
  font-weight: 700;
  line-height: 1;
  text-decoration:none;
  border: 2px solid rgba(255,255,255,.9);
  background: transparent;
  color: var(--light-text);
  transition: transform .2s ease, box-shadow .2s ease, background-color .2s ease, border-color .2s ease, color .2s ease;
  flex: 0 1 auto;
  min-width: max-content;
}

/* Normalize legacy variants so all look identical by default */
.cta-buttons1 .btn-primary,
.cta-buttons1 .btn-secondary,
.cta-buttons1 .btn-tertiary{
  background: transparent !important;
  color: var(--light-text) !important;
  border-color: rgba(255,255,255,.9) !important;
}

/* REMOVE any variant-specific :hover you had before */

/* Unified hover/focus for ALL buttons (wins over globals) */
.cta-buttons1 .btn:is(:hover, :focus-visible){
  background: var(--primary-color) !important;
  border-color: var(--primary-color) !important;
  color: #002a3a !important;   /* readable on blue */
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(0,0,0,.25);
}

/* Small screens: stack cleanly */
@media (max-width: 640px){
  .cta-buttons1{ flex-direction: column; align-items: center; }
  .cta-buttons1 .btn{ width: min(100%, 22rem); }
}

/* Variants */
.btn-primary{ background: var(--primary-color); color:#002a3a; border-color: var(--primary-color); }
.btn-secondary{ background: transparent; color: var(--light-text); border-color: var(--light-text); }

/* === CTA buttons: unified outline style + clean stacking === */
.cta-buttons{
  display:flex;
  flex-wrap:wrap;
  justify-content:left;
  gap: clamp(8px, 2.2vw, 16px);
}

/* Base button (same for all three) */
.cta-buttons .btn,
.cta-buttons a{
  appearance:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding: clamp(10px, 1.6vw, 14px) clamp(18px, 2.6vw, 24px);
  border-radius: 999px;
  font-weight: 700;
  line-height: 1;
  text-decoration:none;
  border: 2px solid rgba(255,255,255,.9);
  background: transparent;
  color: var(--light-text);
  transition: transform .2s ease, box-shadow .2s ease, background-color .2s ease, border-color .2s ease, color .2s ease;
  flex: 0 1 auto;
  min-width: max-content;
}

/* Normalize legacy variants so all look identical by default */
.cta-buttons .btn-primary,
.cta-buttons .btn-secondary,
.cta-buttons .btn-tertiary{
  background: transparent !important;
  color: var(--light-text) !important;
  border-color: rgba(255,255,255,.9) !important;
}

/* REMOVE any variant-specific :hover you had before */

/* Unified hover/focus for ALL buttons (wins over globals) */
.cta-buttons .btn:is(:hover, :focus-visible){
  background: var(--primary-color) !important;
  border-color: var(--primary-color) !important;
  color: #002a3a !important;   /* readable on blue */
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(0,0,0,.25);
}

/* Small screens: stack cleanly */
@media (max-width: 640px){
  .cta-buttons{ flex-direction: column; align-items: center; }
  .cta-buttons .btn{ width: min(100%, 22rem); }
}

/* Variants */
.btn-primary{ background: var(--primary-color); color:#002a3a; border-color: var(--primary-color); }
.btn-secondary{ background: transparent; color: var(--light-text); border-color: var(--light-text); }

/* Respect motion prefs */
@media (prefers-reduced-motion: reduce){
  .hero-video{ display:none; }
}

/* Ultra-small devices: tighter padding */
@media (max-width: 360px){
  .hero{ padding-inline: 12px; }
}
/* 2 */

.features-section {
  background-color: #f7f7f7;
  padding: 4rem 1.5rem;
  text-align: center;
}

.features-section .container {
  max-width: 1200px;
  margin: 0 auto;
}


.features-section .subheading {
  color: #555;
  font-size: 1rem;
  margin-bottom: 2.5rem;
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.5rem;
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem 1rem;
}

.feature-card {
  background: #fff;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
  text-align: left;
  border: 1px solid rgba(0, 0, 0, 0.06);
  transition: transform 0.25s cubic-bezier(.2, .7, .2, 1),
              box-shadow 0.25s cubic-bezier(.2, .7, .2, 1),
              background-color 0.25s ease,
              color 0.25s ease,
              border-color 0.25s ease;
  will-change: transform;
}

.feature-card .icon {
  font-size: 1.75rem;
  display: block;
  margin-bottom: 1rem;
  color: #555;
  transition: color 0.25s ease;
}

.feature-card h3 {
  font-size: 1.1rem;
  margin-bottom: 0.5rem;
  font-weight: 600;
  color: #1a1a1a;
}

.feature-card p {
  color: #555;
  font-size: 0.95rem;
}

/* Hover effect */
.feature-card:hover,
.feature-card:focus-within {
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.16),
              0 8px 12px rgba(0, 0, 0, 0.10);
  background: #0f1115;
  color: #ffffff;
  border-color: rgba(255, 255, 255, 0.08);
}

.feature-card:hover .icon,
.feature-card:focus-within .icon {
  color: #4da3ff;
}

.feature-card:hover h3,
.feature-card:focus-within h3,
.feature-card:hover p,
.feature-card:focus-within p {
  color: #ffffff;
}

/* Layout control based on order */
.feature-card:nth-child(1) {
  grid-column: span 2;
}
.feature-card:nth-child(2) {
  grid-column: span 1;
}
.feature-card:nth-child(3) {
  grid-column: span 1;
}
.feature-card:nth-child(4) {
  grid-column: span 2;
}

@media (max-width: 768px) {
  .features-grid {
    grid-template-columns: 1fr;
  }
  .feature-card {
    grid-column: span 1 !important;
  }
}

/* 3. Benefits Section */
/* Section shell */
.benefit-rows{
  background:#f6f7f9;                 /* same light tone as screenshot */
  width:100%;
}
.benefit-rows__wrap{
  max-width:1200px;                    /* your requested width */
  margin:0 auto;
  padding:20px 20px;
  display:flex;
  flex-direction:column;
  gap:28px;                            /* space between rows */
}

/* One row = left title + right point */
.benefit-row{
  display:grid;
  grid-template-columns: minmax(420px, 1fr) minmax(420px, 1fr);
  gap:40px 56px;
  align-items:center;                  /* align text baselines nicely */
}

/* Big headline (left) */
.benefit-row__title {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  font-weight: 600;
  white-space: nowrap;
 font-size: clamp(26px, 3vw, 34px);  /* scales smoothly */
  line-height: 1.2;
  color: #0b1b2b;
  padding-left: 60px;
}


/* Checklist line (right) */
.benefit-row__point{
  margin:0;
  display:flex;
  align-items:center;
  gap:16px;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  font-size:18px;
  line-height:1.7;
  color:#4b5563;                       /* muted gray */
}

.tick{
  font-size:26px;
  line-height:1;
  color:#22c55e;                       /* green check */
  transform:translateY(2px);           /* optical alignment with text */
  flex:0 0 auto;
}

/* Responsive */
@media (max-width: 980px){
  .benefit-row{
    grid-template-columns: 1fr;        /* stack per row on mobile */
    gap:8px;
  }
  .benefit-row__title{ font-size:clamp(26px, 7vw, 40px); }
  .benefit-row__point{ font-size:17px; }
}

/* 4. How CARL Works: Interactive Explainer */
/* --- common shell --- */
.wrap-flowchart{background:#f7f9fb;padding:56px 20px}
.title-flowchart{
  max-width:1200px;margin:0 auto 28px;
  font:700 34px/1.2 Inter,system-ui,Arial,sans-serif;color:#0b1b2b;text-align:center
}
/* --- Design A --- */
/* Shell */
.wrap-flowchart {
  background: #f7f9fb;
  padding: 56px 20px;
  overflow-x: auto;          /* allow horizontal scroll if screen too small */
}
.title-flowchart {
  max-width: 1200px;
  margin: 0 auto 28px;
  font: 700 32px/1.2 Inter, sans-serif;
  color: #0b1b2b;
  text-align: center;
}

/* Row of nodes */
.rail-flowchart {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 18px;
  min-width: 1000px;          /* keeps all 4 in one row */
  margin: 0 auto;
}

/* Cards */
.node-flowchart {
  background: #fff;
  border: 1px solid #e7ecf2;
  border-radius: 14px;
  box-shadow: 0 6px 20px rgba(16, 24, 40, 0.06);
  padding: 20px 22px;
  min-width: 220px;
  text-align: center;
  transition: all 0.3s ease;
}
.node-flowchart h3 {
  margin: 0 0 6px;
  font: 600 18px/1.3 Inter, sans-serif;
  color: #0f172a;
}
.node-flowchart p {
  margin: 0;
  color: #475569;
  font: 400 15px/1.6 Inter, sans-serif;
}

/* Hover effect */
.node-flowchart:hover {
  background: #1d9bf0;      /* blue background */
  color: #fff;
  border-color: #1d9bf0;
  transform: translateY(-4px);
}
.node-flowchart:hover h3,
.node-flowchart:hover p {
  color: #fff;
}

/* Arrows */
.arrow-flowchart {
  width: 32px;
  height: 32px;
  flex: 0 0 32px;
  position: relative;
}
.arrow-flowchart::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 0;
  width: 18px;
  height: 18px;
  border-top: 3px solid #1d9bf0;
  border-right: 3px solid #1d9bf0;
  transform: translateY(-50%) rotate(45deg);
  transition: border-color 0.3s ease;
}

/* Change arrow color when previous node is hovered */
.node-flowchart:hover + .arrow-flowchart::after {
  border-color: #0f172a; /* dark navy on hover */
}

/* 5. Case Study / Testimonial */
.case-study {
    background-image: url('https://via.placeholder.com/1920x1080/404040/fff?text=Case%20Study%20Background');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    height: 600px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    position: relative;
    color: var(--light-text);
}

.case-study-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
}

.case-study-content {
    position: relative;
    z-index: 1;
    max-width: 800px;
}

.testimonial-quote {
    font-size: 2em;
    font-style: italic;
    font-weight: 300;
}

.testimonial-author {
    font-size: 1.2em;
    font-weight: 600;
    margin-top: 20px;
}

.testimonial-logo {
    filter: grayscale(100%);
    transition: filter 0.5s ease;
    margin-top: 20px;
}

.testimonial-logo:hover {
    filter: grayscale(0%);
}
/* Visual Data Section */
:root{
  --ink-eam-visual-data:#0b2239;
  --muted-eam-visual-data:#6a7a89;
  --surface-eam-visual-data:#fff;
  --bg-eam-visual-data:#f4f6f8;
  --header-eam-visual-data:#0c1321;
  --green-eam-visual-data:#16a34a;
  --red-eam-visual-data:#dc2626;
  --radius-eam-visual-data:12px;
  --shadow-eam-visual-data:0 10px 24px rgba(0,0,0,.08);
}

/* Section shell */
.section-eam-visual-data{
  background:var(--bg-eam-visual-data);
  padding:28px 16px 56px;
}

/* Centered container + horizontal scroll for narrow screens */
.container-eam-visual-data{
  max-width:1000px;
  margin:0 auto;
  /* horizontal scroll on phones */
  overflow-x:auto;
  -webkit-overflow-scrolling:touch;
  overscroll-behavior-x:contain;
  padding:0 2px; /* tiny padding so box-shadow isn’t cut off while scrolling */
}

/* Title */
.title-eam-visual-data{
  margin:8px 0 24px;
  text-align:center;
  justify-content: center;
  font:800 44px/1.1 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--ink-eam-visual-data);
  letter-spacing:.3px;
}

/* Table */
.table-eam-visual-data{
  width:100%;
  border-collapse:separate;
  border-spacing:0;
  background:var(--surface-eam-visual-data);
  border-radius:var(--radius-eam-visual-data);
  box-shadow:var(--shadow-eam-visual-data);
  /* keep columns readable on phones; container will scroll */
  min-width:680px;
}

.thead-eam-visual-data th.th-eam-visual-data{
  background:var(--header-eam-visual-data);
  color:#fff;
  text-align:left;
  padding:18px 24px;
  font:700 18px/1.2 system-ui,Segoe UI,Arial,sans-serif;
  border-bottom:1px solid rgba(255,255,255,.08);
  position:sticky; /* header stays visible when embedded inside a tall container */
  top:0;
  z-index:1;
}
.thead-eam-visual-data th.th-eam-visual-data:first-child{
  border-top-left-radius:var(--radius-eam-visual-data);
}
.thead-eam-visual-data th.th-eam-visual-data:last-child{
  border-top-right-radius:var(--radius-eam-visual-data);
}

.tbody-eam-visual-data .tr-eam-visual-data .td-eam-visual-data{
  padding:22px 24px;
  border-bottom:1px solid #eceff3;
  color:var(--ink-eam-visual-data);
  font:600 20px/1.45 system-ui,Segoe UI,Arial,sans-serif;
  vertical-align:middle;
  background:var(--surface-eam-visual-data);
}
.tbody-eam-visual-data .tr-eam-visual-data:last-child .td-eam-visual-data{
  border-bottom:0;
}
.tbody-eam-visual-data .tr-eam-visual-data:last-child .td-eam-visual-data:first-child{
  border-bottom-left-radius:var(--radius-eam-visual-data);
}
.tbody-eam-visual-data .tr-eam-visual-data:last-child .td-eam-visual-data:last-child{
  border-bottom-right-radius:var(--radius-eam-visual-data);
}

/* Change chips (bigger touch targets) */
.chip-eam-visual-data{
  display:inline-flex;
  align-items:center;
  gap:8px;
  font-weight:800;
  white-space:nowrap;
  padding:6px 10px;
  border-radius:999px;
}
.chip-eam-visual-data svg{ width:18px;height:18px;display:block;fill:currentColor; }
.is-up-eam-visual-data{ color:var(--green-eam-visual-data); }
.is-down-eam-visual-data{ color:var(--red-eam-visual-data); }

/* ---------- Mobile-first adjustments ---------- */
@media (max-width: 780px){
  .title-eam-visual-data{ font-size:34px; margin-bottom:18px; }
  .thead-eam-visual-data th.th-eam-visual-data{ font-size:16px; padding:14px 16px; }
  .tbody-eam-visual-data .td-eam-visual-data{ font-size:16px; padding:16px; }
  .chip-eam-visual-data{ padding:4px 8px; }
}

/* Ultra small phones */
@media (max-width: 420px){
  .title-eam-visual-data{ font-size:28px; }
  .table-eam-visual-data{ min-width:620px; } /* a bit narrower to reduce horizontal scroll */
}

/* Dark mode support (optional for mobile apps with dark theme) */
@media (prefers-color-scheme: dark){
  :root{
    --bg-eam-visual-data:#0a0f18;
    --surface-eam-visual-data:#0f1726;
    --header-eam-visual-data:#0b1220;
    --ink-eam-visual-data:#e8eef6;
    --muted-eam-visual-data:#a9b4c1;
  }
  .tbody-eam-visual-data .tr-eam-visual-data .td-eam-visual-data{
    border-bottom:1px solid rgba(255,255,255,.06);
  }
  .table-eam-visual-data{ box-shadow:none; }
}

/* Reduced-motion users */
@media (prefers-reduced-motion: reduce){
  .container-eam-visual-data, .table-eam-visual-data{ scroll-behavior:auto; }
}
/* ===== tokens (shared) ===== */
:root{
  --arch-bg:#f5f7fa;
  --arch-surface:#ffffff;
  --arch-ink:#0b2239;
  --arch-muted:#6a7a89;
  --arch-border:#e6edf3;
  --arch-radius:16px;
  --arch-shadow:0 10px 28px rgba(10,36,60,.08);
}

/* ===== section container (centered, 1000px max) ===== */
#architecture,
.section-arch-eam{
  background:var(--arch-bg);
  padding:32px 16px 56px;
}
.architecture-diagram,
.architecture-diagram-arch-eam{
  max-width:1000px;
  margin:0 auto;
  display:grid;
  grid-template-columns:repeat(4, minmax(200px,1fr));
  gap:18px;
}

/* keep your existing title class; no change required */
.title-eam-visual-data{
  text-align:center;
  margin:8px auto 24px;
}

/* ===== layer cards ===== */
.arch-layer,
.arch-layer-arch-eam{
  position:relative;
  background:var(--arch-surface);
  border:1px solid var(--arch-border);
  border-radius:var(--arch-radius);
  box-shadow:var(--arch-shadow);
  padding:20px 18px;
  color:var(--arch-ink);
  text-align:center;
  transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
  outline:0;
}

.arch-layer h4,
.arch-layer-arch-eam h4{
  margin:4px 0 6px;
  font:800 18px/1.2 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}
.arch-layer p,
.arch-layer-arch-eam p{
  margin:0;
  color:var(--arch-muted);
  font:600 14px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}

/* hover / focus */
.arch-layer:hover,
.arch-layer:focus,
.arch-layer-arch-eam:hover,
.arch-layer-arch-eam:focus{
  transform:translateY(-2px);
  box-shadow:0 14px 34px rgba(10,36,60,.12);
  border-color:#cfe0ee;
}

/* ===== subtle layer color accents ===== */
.layer-1{ background:linear-gradient(180deg,#eef7ff,transparent 42%) , var(--arch-surface); }
.layer-2{ background:linear-gradient(180deg,#eef9f5,transparent 42%) , var(--arch-surface); }
.layer-3{ background:linear-gradient(180deg,#f7efff,transparent 42%) , var(--arch-surface); }
.layer-4{ background:linear-gradient(180deg,#fff6ed,transparent 42%) , var(--arch-surface); }

/* ===== tooltips (pure CSS via data-tooltip) ===== */
.arch-layer[data-tooltip]::after,
.arch-layer-arch-eam[data-tooltip]::after{
  content:attr(data-tooltip);
  position:absolute;
  left:50%;
  bottom:100%;
  transform:translate(-50%, -10px);
  width:min(180px, 58vw);
  padding:10px 12px;
  background:#0c1321;
  color:#fff;
  border-radius:10px;
  font:600 12px/1.35 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  box-shadow:0 8px 22px rgba(0,0,0,.24);
  opacity:0;
  visibility:hidden;
  pointer-events:none;
  transition:opacity .15s ease, transform .15s ease, visibility .15s;
  z-index:2;
}
.arch-layer[data-tooltip]:hover::after,
.arch-layer[data-tooltip]:focus::after,
.arch-layer-arch-eam[data-tooltip]:hover::after,
.arch-layer-arch-eam[data-tooltip]:focus::after{
  opacity:1;
  visibility:visible;
  transform:translate(-50%, -16px);
}

/* small arrow */
.arch-layer[data-tooltip]::before,
.arch-layer-arch-eam[data-tooltip]::before{
  content:"";
  position:absolute;
  left:50%;
  bottom:100%;
  transform:translate(-50%, 6px);
  border:8px solid transparent;
  border-top-color:#0c1321;
  opacity:0; visibility:hidden; transition:opacity .15s ease, visibility .15s;
}
.arch-layer[data-tooltip]:hover::before,
.arch-layer[data-tooltip]:focus::before,
.arch-layer-arch-eam[data-tooltip]:hover::before,
.arch-layer-arch-eam[data-tooltip]:focus::before{
  opacity:1; visibility:visible;
}
/* --- Tooltip: place BELOW + right-aligned, wider, no clipping --- */
.arch-layer,
.arch-layer-arch-eam{
  overflow: visible; /* let tooltip spill outside the card */
}

/* bubble */
.arch-layer[data-tooltip]::after,
.arch-layer-arch-eam[data-tooltip]::after{
  /* place below the card */
  top: 100%;
  bottom: auto;

  /* right align */
  right: 12px;
  left: auto;

  /* larger width, but never exceed viewport */
  width: min(520px, calc(100vw - 40px));

  /* slide down a bit on show */
  transform: translateY(10px);

  /* keep it on top of other things */
  z-index: 50;
}

/* show state */
.arch-layer[data-tooltip]:hover::after,
.arch-layer[data-tooltip]:focus::after,
.arch-layer-arch-eam[data-tooltip]:hover::after,
.arch-layer-arch-eam[data-tooltip]:focus::after{
  opacity: 1;
  visibility: visible;
  transform: translateY(14px);
}

/* arrow (now pointing UP from the tooltip to the card) */
.arch-layer[data-tooltip]::before,
.arch-layer-arch-eam[data-tooltip]::before{
  top: 100%;
  bottom: auto;

  /* right-align arrow roughly with padding */
  right: 28px;
  left: auto;

  border: 8px solid transparent;
  border-top-color: transparent;
  border-bottom-color: #0c1321; /* same as tooltip bg */
  transform: translateY(0);
  z-index: 51;
}

.arch-layer[data-tooltip]:hover::before,
.arch-layer[data-tooltip]:focus::before,
.arch-layer-arch-eam[data-tooltip]:hover::before,
.arch-layer-arch-eam[data-tooltip]:focus::before{
  opacity: 1;
  visibility: visible;
}

/* mobile: allow almost full width */
@media (max-width: 560px){
  .arch-layer[data-tooltip]::after,
  .arch-layer-arch-eam[data-tooltip]::after{
    right: 12px;
    left: 12px;                 /* let it stretch if needed */
    width: calc(100vw - 48px);  /* gutters on both sides */
  }
  .arch-layer[data-tooltip]::before,
  .arch-layer-arch-eam[data-tooltip]::before{
    right: 28px; /* keep arrow near the right padding */
  }
}

/* ===== responsive ===== */
@media (max-width: 1024px){
  .architecture-diagram,
  .architecture-diagram-arch-eam{
    grid-template-columns:repeat(2, minmax(0,1fr));
  }
}
@media (max-width: 560px){
  .architecture-diagram,
  .architecture-diagram-arch-eam{
    grid-template-columns:1fr;
  }
  .arch-layer[data-tooltip]::after,
  .arch-layer-arch-eam[data-tooltip]::after{
    left:auto; right:16px; transform:translateY(-10px);
  }
  .arch-layer[data-tooltip]:hover::after,
  .arch-layer[data-tooltip]:focus::after,
  .arch-layer-arch-eam[data-tooltip]:hover::after,
  .arch-layer-arch-eam[data-tooltip]:focus::after{
    transform:translateY(-16px);
  }
}

/* ===== dark mode (optional) ===== */
@media (prefers-color-scheme: dark){
  :root{
    --arch-bg:#0c121b;
    --arch-surface:#0f1726;
    --arch-ink:#e9f0f7;
    --arch-muted:#a7b4c1;
    --arch-border:#1e2a3a;
    --arch-shadow:0 10px 28px rgba(0,0,0,.45);
  }
  .layer-1{ background:linear-gradient(180deg,#0f2336,transparent 42%), var(--arch-surface); }
  .layer-2{ background:linear-gradient(180deg,#0e2a22,transparent 42%), var(--arch-surface); }
  .layer-3{ background:linear-gradient(180deg,#22183a,transparent 42%), var(--arch-surface); }
  .layer-4{ background:linear-gradient(180deg,#2b1c12,transparent 42%), var(--arch-surface); }
}
/* make sure nothing above the tooltip is clipping it */
#architecture.section.container,
.architecture-diagram,
.arch-eam,
.arch-layer { overflow: visible; }

/* ------------ Base tooltip (right-aligned, below) ------------ */
.arch-layer[data-tooltip]::after{
  content: attr(data-tooltip);
  position: absolute;
  top: 100%;
  right: 12px;                 /* default = align to the right edge */
  left: auto;
  margin-top: 10px;
  padding: 10px 12px;
  border-radius: 10px;
  background:#0c1321;
  color:#fff;
  font: 600 12px/1.35 system-ui, Segoe UI, Arial, sans-serif;
  width: min(520px, calc(100vw - 40px));  /* never wider than viewport */
  box-shadow: 0 10px 24px rgba(10,20,35,.28);
  opacity: 0; visibility: hidden;
  transform: translateY(0);
  transition: opacity .18s ease, transform .18s ease, visibility 0s .18s;
  z-index: 50;
  pointer-events: none;
  white-space: normal; word-wrap: break-word;
}

.arch-layer[data-tooltip]::before{
  content:"";
  position:absolute;
  top: 100%;
  right: 28px;                 /* arrow near the right padding */
  border:8px solid transparent;
  border-bottom-color:#0c1321; /* arrow points up */
  opacity:0; visibility:hidden;
  transition: opacity .18s ease, transform .18s ease, visibility 0s .18s;
  z-index: 51;
}

.arch-layer:hover::after,
.arch-layer:focus::after,
.arch-layer:hover::before,
.arch-layer:focus::before{
  opacity:1; visibility:visible; transform: translateY(4px);
  transition-delay: 0s;
}

/* ------------ Placement variants set by JS ------------ */
/* place to the LEFT (still below), used when right would clip */
.arch-layer.tip-left[data-tooltip]::after{
  left: 12px; right: auto;
}
.arch-layer.tip-left[data-tooltip]::before{
  left: 28px; right: auto;
}

/* stretch almost full viewport if both sides would clip */
.arch-layer.tip-full[data-tooltip]::after{
  left: 12px; right: 12px; width: auto;
}
.arch-layer.tip-full[data-tooltip]::before{
  right: 28px; left: auto; /* keep arrow near right by default */
}

/* mobile: prefer full width so nothing ever clips */
@media (max-width: 640px){
  .arch-layer[data-tooltip]::after{ left: 12px; right: 12px; width:auto; }
  .arch-layer[data-tooltip]::before{ right: 28px; left:auto; }
}

/* 9. Certifications & Recognition */
.certifications-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 30px;
    justify-items: center;
    align-items: center;
}

.badge-logo {
    max-width: 100%;
    height: auto;
    filter: grayscale(100%);
    transition: transform 0.3s ease, filter 0.5s ease;
}

.badge-logo:hover {
    transform: scale(1.1);
    filter: grayscale(0%);
}

/* 10. Final CTA Banner */
.cta-banner {
    background: linear-gradient(90deg, #0d1a26, #33598d, #0d1a26);
    color: var(--light-text);
    text-align: center;
    padding: 60px 20px;
}

.cta-banner h2 {
    font-size: 2.2em;
    font-weight: 600;
    margin-bottom: 40px;
    color: var(--light-text);
}

/* Media Queries for Responsiveness */
@media (max-width: 768px) {
    .section-title, .section-title-left {
        font-size: 2em;
    }
    .hero-content h1 {
        font-size: 2em;
    }
    .hero-content p {
        font-size: 1em;
    }
    .cta-buttons {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .cta-buttons a {
        margin: 10px 0;
    }
    .benefits-section {
        flex-direction: column;
    }
    .flow-chart {
        flex-direction: column;
        gap: 40px;
    }
    .flow-arrow {
        width: 2px;
        height: 50px;
        top: 0;
    }
    .flow-arrow::after {
        right: auto;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        border-width: 10px 5px 0 5px;
        border-color: var(--primary-color) transparent transparent transparent;
    }
    .architecture-diagram {
        height: auto;
        padding-top: 0;
        display: flex;
        flex-direction: column;
        gap: 20px;
        position: static;
    }
    .arch-layer {
        position: static;
        width: auto;
        left: auto;
        transform: none;
    }
    .arch-layer:hover {
        transform: none;
    }
    .arch-layer::after {
        display: none;
    }
}


/* section work  */
/* ===== CTA Section (mobility) ===== */
:root {
  --cta-bg-mobility: #071626;
  --cta-title-fs-mobility: clamp(22px, 3vw, 32px);
  --cta-text-fs-mobility: clamp(14px, 1.8vw, 16px);
  --cta-green-mobility: #059669;
}

.cta-mobility {
  padding: clamp(40px, 7vw, 80px) 0;
  background: var(--cta-bg-mobility);
  border-radius: 12px;
  text-align: center;
  color: #fff;
  margin: clamp(20px, 4vw, 40px) auto;
  max-width: 1200px;
}

.cta-wrap-mobility {
  max-width: 800px;
  margin: 0 auto;
  padding: 0 16px;
}

.cta-title-mobility {
  margin: 0 0 12px;
  font-size: var(--cta-title-fs-mobility);
  font-weight: 700;
  color: white;
}

.cta-text-mobility {
  margin: 0 0 28px;
  font-size: var(--cta-text-fs-mobility);
  color: #d1d5db;
  line-height: 1.6;
}

/* Button */
.cta-btn-mobility {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  background: var(--cta-green-mobility);
  color: #fff;
  font-weight: 600;
  padding: 12px 26px;
  border-radius: 999px;
  text-decoration: none;
  font-size: 15px;
  transition: background 0.3s ease, transform 0.3s ease;
}

.cta-btn-mobility:hover {
  background: #047857;
  transform: translateY(-2px);
}

.cta-dot-mobility {
  width: 8px;
  height: 8px;
  background: #fff;
  border-radius: 50%;
  display: inline-block;
}
/* Reveal animation */
.reveal-mobility {
  opacity: 0;
  transform: translateY(24px) scale(0.98);
  transition:
    opacity 420ms ease,
    transform 420ms ease;
  transition-delay: var(--delay-mobility, 0ms);
  will-change: opacity, transform;
}

.reveal-mobility.is-visible-mobility {
  opacity: 1;
  transform: none;
}
